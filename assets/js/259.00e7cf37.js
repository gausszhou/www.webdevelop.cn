(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{707:function(t,s,a){"use strict";a.r(s);var i=a(10),v=Object(i.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"第7章-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第7章-https"}},[t._v("#")]),t._v(" 第7章 HTTPS")]),t._v(" "),a("h3",{attrs:{id:"http的缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http的缺点"}},[t._v("#")]),t._v(" HTTP的缺点")]),t._v(" "),a("p",[t._v("HTTP主要有这些不足，例举如下")]),t._v(" "),a("ul",[a("li",[t._v("通信使用明文")]),t._v(" "),a("li",[t._v("不验证通信的身份")]),t._v(" "),a("li",[t._v("无法验证报文的完整性")])]),t._v(" "),a("p",[t._v("所谓互联网，是由能连通到全世界的网络组成的，所以不排除通信中的某个环节会遭到恶意窥视行为。即使已经经过加密处理的通信，也会被窥视通信内容，只是说通信经过加密后就可能让人无法破解。")]),t._v(" "),a("p",[t._v("窃听相同网段上的通信并非难事，只需要收集在互联网上流动的数据帧就行了，对于收集来的数据包的解析工作可以交给抓包Packet Capture 或嗅探器工具。被广泛使用的一个抓包工具是Wireshark。")]),t._v(" "),a("p",[a("strong",[t._v("通信的加密")])]),t._v(" "),a("p",[t._v("HTTP协议中没有加密机制，但可以通过和SSL(Secure Socket Layer, 安全套接层)或TLS(Transport Layer Security, 安全层传输协议)的组合使用，加密HTTP的通信内容。")]),t._v(" "),a("p",[a("strong",[t._v("内容的加密")])]),t._v(" "),a("p",[t._v("还有一种是只对通信的内容本身进行加密，即把HTTP报文里所含的内容进行加密处理，有一点必须注意，由于该方式不同于SSL或TLS将整个通信线路进行加密处理，所以内容仍有被篡改的风险。")]),t._v(" "),a("p",[a("strong",[t._v("查明对手的证书")])]),t._v(" "),a("p",[t._v("虽然使用HTTP协议无法确定通信方，但是使用SSL则可以，因为SSL不仅提供加密处理，而且还使用了一种被称为证书的手段，可用于确定通信方。")]),t._v(" "),a("p",[t._v("HTTP无法证明通信的报文完整性，可能受到中间人攻击。")]),t._v(" "),a("h3",{attrs:{id:"http-加密-认证-完整性保护-https"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#http-加密-认证-完整性保护-https"}},[t._v("#")]),t._v(" HTTP+加密+认证+完整性保护 = HTTPS")]),t._v(" "),a("p",[t._v("HTTPS并非应用层的一种新协议，只是HTTP通信接口部分用SSL和TLS协议代替而已。通常HTTP直接和TCP通信。当使用SSL时，则演变成先和SSL通信，再由SSL和TCP通信。")]),t._v(" "),a("p",[a("strong",[t._v("公开密钥加密(非对称加密)")])]),t._v(" "),a("p",[t._v("大部分的加密算法都是公开的，而密钥确实保密的，通过这种方式来保证加密通信的安全性，但是一旦密钥被攻击者获得，那加密也就失去了意义。")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("共享密钥(一个密钥)加密的困境")]),t._v(" "),a("p",[t._v("加密和加密使用同一个密钥的方式称为共享密钥加密，也被称为"),a("strong",[t._v("对称加密")]),t._v("。")]),t._v(" "),a("p",[t._v("如果在互联网上转发密钥时，一旦通信被监听那么密钥就可能会落入攻击人之手。")])]),t._v(" "),a("li",[a("p",[t._v("使用两把密钥的公开密钥加密")]),t._v(" "),a("p",[t._v("其中数据加密的密钥是公开的，而解密的密钥是私有的，也被成为"),a("strong",[t._v("非对称加密")])]),t._v(" "),a("p",[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("ϕ")]),a("mo",[t._v("(")]),a("mi",[t._v("n")]),a("mo",[t._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi(n)")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"base textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("ϕ")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("n")]),a("span",{staticClass:"mclose"},[t._v(")")])])])]),t._v("是关于n的一个函数，表示小于1-n之间和n互质的数的个数")]),t._v(" "),a("p",[t._v("对于质数而言有这样两个规律")]),t._v(" "),a("p",[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("ϕ")]),a("mo",[t._v("(")]),a("mi",[t._v("p")]),a("mo",[t._v(")")]),a("mo",[t._v("=")]),a("mi",[t._v("p")]),a("mo",[t._v("−")]),a("mn",[t._v("1")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi(p)=p-1\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"base displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("ϕ")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mclose"},[t._v(")")]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mbin"},[t._v("−")]),a("span",{staticClass:"mord mathrm"},[t._v("1")])])])])])]),t._v(" "),a("p",[a("span",{staticClass:"katex-display"},[a("span",{staticClass:"katex"},[a("span",{staticClass:"katex-mathml"},[a("math",[a("semantics",[a("mrow",[a("mi",[t._v("ϕ")]),a("mo",[t._v("(")]),a("mi",[t._v("p")]),a("mo",[t._v("∗")]),a("mi",[t._v("q")]),a("mo",[t._v(")")]),a("mo",[t._v("=")]),a("mi",[t._v("ϕ")]),a("mo",[t._v("(")]),a("mi",[t._v("p")]),a("mo",[t._v(")")]),a("mo",[t._v("∗")]),a("mi",[t._v("ϕ")]),a("mo",[t._v("(")]),a("mi",[t._v("q")]),a("mo",[t._v(")")])],1),a("annotation",{attrs:{encoding:"application/x-tex"}},[t._v("\\phi(p*q)=\\phi(p)*\\phi(q)\n")])],1)],1)],1),a("span",{staticClass:"katex-html",attrs:{"aria-hidden":"true"}},[a("span",{staticClass:"strut",staticStyle:{height:"0.75em"}}),a("span",{staticClass:"strut bottom",staticStyle:{height:"1em","vertical-align":"-0.25em"}}),a("span",{staticClass:"base displaystyle textstyle uncramped"},[a("span",{staticClass:"mord mathit"},[t._v("ϕ")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mbin"},[t._v("∗")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),a("span",{staticClass:"mclose"},[t._v(")")]),a("span",{staticClass:"mrel"},[t._v("=")]),a("span",{staticClass:"mord mathit"},[t._v("ϕ")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit"},[t._v("p")]),a("span",{staticClass:"mclose"},[t._v(")")]),a("span",{staticClass:"mbin"},[t._v("∗")]),a("span",{staticClass:"mord mathit"},[t._v("ϕ")]),a("span",{staticClass:"mopen"},[t._v("(")]),a("span",{staticClass:"mord mathit",staticStyle:{"margin-right":"0.03588em"}},[t._v("q")]),a("span",{staticClass:"mclose"},[t._v(")")])])])])])]),t._v(" "),a("p",[t._v("使用公开密钥加密方式，发送密文的一方使用"),a("strong",[t._v("对方公开的密钥")]),t._v("进行加密，对方接收到被加密的信息后，再使用自己的私有密钥进行解密。利用这种方式，不需要发送用来解密的私有密钥，也不必担心密钥被攻击者窃听而盗走。")])]),t._v(" "),a("li",[a("p",[t._v("HTTPS采用共享密钥加密和公开密钥加密两者并用的混合加密机制")])]),t._v(" "),a("li",[a("p",[t._v("遗憾的是公开密钥加密也存在一些问题，那就是无法证明公开密钥本身就是货真价实的公开密钥。目前对这个问题的一个解决方案是使用由数字证书认证机构和其相关机构颁发的公开密钥证书")])])]),t._v(" "),a("p",[a("strong",[t._v("SSL和TLS")])]),t._v(" "),a("p",[t._v("HTTPS使用SSL和TLS这两个协议，SSL技术一开始由网景公司倡导开发，但是SSL3.0之前的版本存在问题，IETF以SSL3.0为基准，后来又制定了TSL1.0、TSL1.1和TSL1.2。TLS是以SSL为原型开发的协议，当前的主流版本是SSL3.0和TLS1.0。")]),t._v(" "),a("p",[a("strong",[t._v("SSL慢吗？")])]),t._v(" "),a("p",[t._v("SSL的慢分两种，一种是指通信慢，除去和TCP连接，发送HTTP响应/请求之外，还要和SSL通信，因此整体上处理的通信量不可避免的增加。另一点是SSL必须进行加密处理，会大量消耗CPU及内存等资源。")])])}),[],!1,null,null,null);s.default=v.exports}}]);