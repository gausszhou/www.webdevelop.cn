(window.webpackJsonp=window.webpackJsonp||[]).push([[258],{706:function(t,e,a){"use strict";a.r(e);var r=a(10),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"第6章-http报文头"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#第6章-http报文头"}},[t._v("#")]),t._v(" 第6章 HTTP报文头")]),t._v(" "),a("p",[t._v("HTTP首部字段根据实际用途进行区分，被分为以下四种类型")]),t._v(" "),a("h2",{attrs:{id:"通用首部字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通用首部字段"}},[t._v("#")]),t._v(" 通用首部字段")]),t._v(" "),a("h3",{attrs:{id:"cache-control"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cache-control"}},[t._v("#")]),t._v(" Cache-Control")]),t._v(" "),a("p",[a("code",[t._v("Cache-Control")]),t._v(" 通用消息头字段，被用于在http请求和响应中，通过指定指令来实现缓存机制。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Cache-Control",target:"_blank",rel:"noopener noreferrer"}},[t._v("Headers Cache-Control MDN"),a("OutboundLink")],1)]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("指令")]),t._v(" "),a("th",[t._v("参数")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("public")]),t._v(" "),a("td",[t._v("无")]),t._v(" "),a("td",[t._v("以被任何对象缓存")])]),t._v(" "),a("tr",[a("td",[t._v("private")]),t._v(" "),a("td",[t._v("无")]),t._v(" "),a("td",[t._v("代理服务器不能缓存")])]),t._v(" "),a("tr",[a("td",[t._v("no-cache")]),t._v(" "),a("td",[t._v("无")]),t._v(" "),a("td",[t._v("协商缓存")])]),t._v(" "),a("tr",[a("td",[t._v("no-store")]),t._v(" "),a("td",[t._v("无")]),t._v(" "),a("td",[t._v("完全不缓存")])]),t._v(" "),a("tr",[a("td",[t._v("max-age")]),t._v(" "),a("td",[a("code",[t._v("<seconds>")])]),t._v(" "),a("td",[t._v("设置缓存存储的最大周期")])]),t._v(" "),a("tr",[a("td",[t._v("max-stale")]),t._v(" "),a("td",[a("code",[t._v("<seconds>")])]),t._v(" "),a("td",[t._v("设置缓存允许的过时时间")])])])]),t._v(" "),a("p",[t._v("协商缓存：在发布缓存副本之前，强制要求缓存把请求提交给原始服务器进行验证，说白话，先检查一次缓存是不是最新的，不是就从原始服务器重新下载。")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("从字面意思上看，很容易认为no-cache误解为不缓存，实际上是协商缓存，no-store才是真正的不进行缓存")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cache-control: max-age=31536000, public\n")])])]),a("h3",{attrs:{id:"connection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#connection"}},[t._v("#")]),t._v(" Connection")]),t._v(" "),a("p",[a("code",[t._v("Connection")]),t._v("决定当前的事务完成后，是否会关闭网络连接。如果该值是“keep-alive”，网络连接就是持久的，不会关闭，使得对同一个服务器的请求可以继续在该连接上完成。"),a("br"),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Connection",target:"_blank",rel:"noopener noreferrer"}},[t._v("Headers Connection MDN"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Connection: keep-alive\nConnection: close\n")])])]),a("h3",{attrs:{id:"date"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#date"}},[t._v("#")]),t._v(" Date")]),t._v(" "),a("p",[a("code",[t._v("Date")]),t._v(" 是一个通用首部，其中包含了报文创建的日期和时间"),a("br"),t._v(" "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Date",target:"_blank",rel:"noopener noreferrer"}},[t._v("Headers Date MDN"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Date: Wed, 18 Aug 2021 08:29:43 GMT\n")])])]),a("h3",{attrs:{id:"upgrade"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrade"}},[t._v("#")]),t._v(" Upgrade")]),t._v(" "),a("p",[a("code",[t._v("Upgrade")]),t._v(" 用于检测HTTP协议及其他协议是否可用更高的版本")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Status Code: 101 Switching Protocols\nConnection: Upgrade\nUpgrade: websocket\n")])])]),a("h3",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[t._v("#")]),t._v(" 其他")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("字段")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Pragma")]),t._v(" "),a("td",[t._v("历史遗留，现在使用Cache-Control")])]),t._v(" "),a("tr",[a("td",[t._v("Transfer-Encoding")]),t._v(" "),a("td",[t._v("规定分块传输的编码方式")])]),t._v(" "),a("tr",[a("td",[t._v("Via")]),t._v(" "),a("td",[t._v("追踪请求的传输路径")])]),t._v(" "),a("tr",[a("td",[t._v("Warning")]),t._v(" "),a("td",[t._v("警告，大多与缓存相关")])])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("pragma: no-cache\nvia: 1.1 3aa2c5d8509af94e91f2680cf10da532.cloudfront.net (CloudFront)\n")])])]),a("h2",{attrs:{id:"请求首部字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#请求首部字段"}},[t._v("#")]),t._v(" 请求首部字段")]),t._v(" "),a("h3",{attrs:{id:"accept"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#accept"}},[t._v("#")]),t._v(" Accept")]),t._v(" "),a("p",[a("code",[t._v("Accept")]),t._v("请求头用来告知（服务器）客户端可以处理的内容类型，这种内容类型用MIME类型来表示。\n此外还有"),a("code",[t._v("Accept-Chartset")]),t._v("，"),a("code",[t._v("Accept-Encoding")]),t._v("，"),a("code",[t._v("Accept-Language")])]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Accept",target:"_blank",rel:"noopener noreferrer"}},[t._v("Headers Accept MDN"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("accept: text/html,application/xhtml+xml,application/xml;\nq=0.9,image/avif,image/webp,image/apng,*/*;\nq=0.8,application/signed-exchange;\nv=b3;\nq=0.9\naccept-encoding: gzip, deflate, br\naccept-language: zh-CN,zh;q=0.9,la;q=0.8,zh-TW;q=0.7,en;q=0.6,so;q=0.5\n")])])]),a("h3",{attrs:{id:"range"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#range"}},[t._v("#")]),t._v(" Range")]),t._v(" "),a("p",[t._v("对于只需获取部分资源的范围请求，包含首部字段"),a("code",[t._v("Range")]),t._v("即可告知服务器资源的指定范围。常见于较大文件下载的场景")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Range: bytes=5001-10000\n")])])]),a("h3",{attrs:{id:"host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[t._v("#")]),t._v(" Host")]),t._v(" "),a("p",[t._v("首部字段"),a("code",[t._v("Host")]),t._v("告知服务器请求的资源速出的互联网主机名和端口号")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Host: www.webdevelop.cn\n")])])]),a("h3",{attrs:{id:"referer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#referer"}},[t._v("#")]),t._v(" Referer")]),t._v(" "),a("p",[t._v("首部字段"),a("code",[t._v("Referer")]),t._v("告知服务器请求的原始资源的URI")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Referer: http://www.webdevelop.cn/Basic/HTTP/06/\n")])])]),a("h3",{attrs:{id:"user-agent"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#user-agent"}},[t._v("#")]),t._v(" User-Agent")]),t._v(" "),a("p",[t._v("首部字段"),a("code",[t._v("User-Agent")]),t._v("告知服务器创建请求的浏览器和用户代理名称等信息")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36\n")])])]),a("h2",{attrs:{id:"响应首部字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#响应首部字段"}},[t._v("#")]),t._v(" 响应首部字段")]),t._v(" "),a("p",[t._v("服务端使用首部字段"),a("code",[t._v("Accept-Ranges")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v('Accept-Ranges: bytes\nETag: "25e-4d2c3145df440-gzip"\n')])])]),a("h2",{attrs:{id:"实体首部字段"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实体首部字段"}},[t._v("#")]),t._v(" 实体首部字段")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Connection: keep-alive\nContent-Encoding: gzip\nContent-Length: 379\nContent-Type: text/html\nLast-Modified: Wed, 21 Oct 2015 07:28:00 GMT\n")])])])])}),[],!1,null,null,null);e.default=s.exports}}]);