(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{474:function(v,_,t){"use strict";t.r(_);var l=t(10),n=Object(l.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"服务器操作规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器操作规范"}},[v._v("#")]),v._v(" 服务器操作规范")]),v._v(" "),t("blockquote",[t("p",[v._v("一直使用showdoc作为接口文档协同系统，看到官方内置的文档，觉得很有意思，就直接贴在这里")])]),v._v(" "),t("h2",{attrs:{id:"安全规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安全规范"}},[v._v("#")]),v._v(" 安全规范")]),v._v(" "),t("ul",[t("li",[v._v("账号")])]),v._v(" "),t("p",[v._v("非必要情况下，以非root用户登录操作\n多人操作环境，给定普通用户账号")]),v._v(" "),t("ul",[t("li",[v._v("口令")])]),v._v(" "),t("p",[v._v("控制口令强度，修改频次为一个月或三个月")]),v._v(" "),t("ul",[t("li",[v._v("磁盘使用")])]),v._v(" "),t("p",[v._v("监控磁盘使用情况，防止爆盘")]),v._v(" "),t("ul",[t("li",[v._v("重要文件管理\n备份\n添加不可更改位，这样root用户修改也要指定特定参数")])]),v._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[v._v("chattr  +i  filename    /* 加‘不可更改位‘ */         \nchattr  -i  filename    /* 去掉‘不可更改位‘ */\n")])])]),t("ul",[t("li",[v._v("IP，端口")])]),v._v(" "),t("p",[v._v("限制端口访问机器\n禁止修改登录端口\n禁止绑定任意程序到特定端口\n进程不直接绑定在环路地址上面(0.0.0.0)，需绑定内网ip")]),v._v(" "),t("ul",[t("li",[v._v("监控")])]),v._v(" "),t("p",[v._v("开启监控 比如监开启控日志，nginx，thinkjs默认自带开启日志\n版本\n系统或软件从官方渠道下载\n系统命令禁止修改，如rm，mv")]),v._v(" "),t("ul",[t("li",[v._v("访问控制")])]),v._v(" "),t("p",[v._v("禁用目录浏览，敏感文件数据禁止放在web目录下面（包括svn，cvs版本控制的文件）")]),v._v(" "),t("h2",{attrs:{id:"操作规范"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#操作规范"}},[v._v("#")]),v._v(" 操作规范")]),v._v(" "),t("ul",[t("li",[v._v("服务器")])]),v._v(" "),t("p",[v._v("危险操作前一定要备份")]),v._v(" "),t("ul",[t("li",[v._v("数据库")])]),v._v(" "),t("p",[v._v("绑定内网ip\n设置登录密码\n删除默认数据库及用户\n新建mysql用户和组，相关权限给到mysql用户\n库，表级别操作慎重")]),v._v(" "),t("ul",[t("li",[v._v("危险操作")])]),v._v(" "),t("p",[t("code",[v._v("rm -rf dir/filename")]),v._v(" 此命令强制删除文件或目录，操作前务必备份（cp -r）\n"),t("code",[v._v("kill -9 pid")]),v._v(" 此命令强制杀掉正在运行的进程，使当前进程对应程序立即退出，一般会丢失数据\n数据库相关 （delete，drop，truncate） 操作前一定备份数据，操作时最好有人结对")]),v._v(" "),t("ul",[t("li",[v._v("自动化")])]),v._v(" "),t("p",[v._v("重要文件或数据库备份自动化 可通过crontab任务来定时执行\n服务或程序本身属于定时任务，则对于重要数据、文件在服务或程序内部自行实现")])])}),[],!1,null,null,null);_.default=n.exports}}]);