(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{454:function(r,e,a){"use strict";a.r(e);var t=a(10),n=function(r){r.options.__data__block__={mermaid_382ee1aa:"graph LR  \n  user[用户]\n  role[角色]\n  perm[权限]\n  user --用户属于某个或多个角色--\x3e role \n  role --角色拥有权限--\x3eperm\n",mermaid_382ee1c6:"graph TD\n  role1[角色1]\n  role2[角色2]\n  role3[角色3]\n  role4[角色4]\n  role5[角色5]\n  role6[角色6]\n  role7[角色7]\n  role1--\x3erole2\n  role1--\x3erole3\n  role2--\x3erole4\n  role2--\x3erole5\n  role3--\x3erole6\n  role3--\x3erole7\n",mermaid_382ee21e:"sequenceDiagram\n  autonumber\n  participant 账号表\n  participant 用户表\n  participant 角色表\n  participant 权限表\n  Note right of 账号表: 记录每一种登录方式的信息<br/>但不包含密码信息\n  账号表->>账号表:通过accountid找到用户信息\n  账号表->>用户表:用户的userid\n  Note left of 用户表: 记录用户的基本信息和密码<br/>包含加盐后的密码信息\n  用户表->>用户表:通过userid找到用户信息\n  用户表->>角色表:用户的roleid\n  Note right of 角色表: 存储角色相关的信息\n  角色表->>角色表:通过roleid找到角色信息\n  角色表->>权限表:角色的permid\n  Note left of 权限表: 存储权限相关的信息\n  权限表->>权限表:通过permid找到权限信息\n",mermaid_382ee222:"sequenceDiagram\n  autonumber\n  participant 用户表\n  participant 角色表\n  participant 权限表\n  Note right of 用户表: 记录用户的基本信息和密码<br/>包含加盐后的密码信息\n  用户表->>用户表:通过userid找到用户信息\n  用户表->>角色表:用户的roleid\n  Note right of 角色表: 存储角色相关的信息\n  角色表->>角色表:通过roleid找到角色信息\n  角色表->>角色表:获取角色所拥有的权限\n  角色表->>权限表:获取所有的权限信息\n  角色表->>角色表:修改所拥有的权限\n  Note left of 权限表: 存储权限相关的信息<br/>\n"}},o=Object(t.a)({},(function(){var r=this,e=r.$createElement,a=r._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":r.$parent.slotKey}},[a("h1",{attrs:{id:"用户与角色"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#用户与角色"}},[r._v("#")]),r._v(" 用户与角色")]),r._v(" "),a("h2",{attrs:{id:"参考资料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参考资料"}},[r._v("#")]),r._v(" 参考资料")]),r._v(" "),a("p",[a("a",{attrs:{href:"http://www.woshipm.com/pd/1150093.html",target:"_blank",rel:"noopener noreferrer"}},[r._v("人人都是产品经理 RBAC模型：基于用户-角色-权限控制的一些思考"),a("OutboundLink")],1),a("br"),r._v(" "),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/97035035",target:"_blank",rel:"noopener noreferrer"}},[r._v("知乎 通用的“用户角色权限”平台设计"),a("OutboundLink")],1),a("br"),r._v(" "),a("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/73414693",target:"_blank",rel:"noopener noreferrer"}},[r._v("知乎 可能是史上最全的权限系统设计"),a("OutboundLink")],1)]),r._v(" "),a("h2",{attrs:{id:"什么是rbac模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是rbac模型"}},[r._v("#")]),r._v(" 什么是RBAC模型")]),r._v(" "),a("p",[r._v("迄今为止最为普及的权限设计模型是RBAC模型,基于角色的访问控制（Role-Based Access Control）")]),r._v(" "),a("p",[r._v("是指用户通过角色与权限进行关联。即一个用户拥有若干角色，每一个角色拥有若干权限。")]),r._v(" "),a("p",[r._v("这样，就构造成“用户—角色—权限”的授权模型。在这种模型中，用户与角色之间、角色与权限之间，一般者是多对多的关系。")]),r._v(" "),a("h2",{attrs:{id:"rbac模型的分类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac模型的分类"}},[r._v("#")]),r._v(" RBAC模型的分类")]),r._v(" "),a("p",[r._v("RBAC模型可以分为：RBAC0、RBAC1、RBAC2、RBAC3 四种。")]),r._v(" "),a("p",[r._v("其中RBAC0是基础，也是最简单的，相当于底层逻辑，RBAC1、RBAC2、RBAC3都是以RBAC0为基础的升级。")]),r._v(" "),a("h3",{attrs:{id:"rbac0模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac0模型"}},[r._v("#")]),r._v(" RBAC0模型")]),r._v(" "),a("p",[r._v("最简单的用户、角色、权限模型。")]),r._v(" "),a("ul",[a("li",[r._v("一个用户只充当一种角色，一种角色可以有多个用户担当")]),r._v(" "),a("li",[r._v("一个用户可同时充当多种角色，一种角色可以有多个用户担当")])]),r._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1aa",graph:r.$dataBlock.mermaid_382ee1aa}}),a("h3",{attrs:{id:"rbac1模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac1模型"}},[r._v("#")]),r._v(" RBAC1模型")]),r._v(" "),a("p",[r._v("相对于RBAC0模型，增加了子角色，引入了继承概念，即子角色可以继承父角色的所有权限")]),r._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1c6",graph:r.$dataBlock.mermaid_382ee1c6}}),a("h3",{attrs:{id:"rbac2模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac2模型"}},[r._v("#")]),r._v(" RBAC2模型")]),r._v(" "),a("p",[r._v("基于RBAC0模型，增加了对角色的一些限制：角色互斥、基数约束、先决条件角色等。")]),r._v(" "),a("ul",[a("li",[r._v("角色互斥：同一用户不能分配到一组互斥角色集合中的多个角色，互斥角色是指权限互相制约的两个角色。案例：财务系统中一个用户不能同时被指派给会计角色和审计员角色。")]),r._v(" "),a("li",[r._v("基数约束: 一个角色被分配的用户数量受限；")])]),r._v(" "),a("h3",{attrs:{id:"rbac3模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac3模型"}},[r._v("#")]),r._v(" RBAC3模型")]),r._v(" "),a("h2",{attrs:{id:"rbac数据序列图"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rbac数据序列图"}},[r._v("#")]),r._v(" RBAC数据序列图")]),r._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee21e",graph:r.$dataBlock.mermaid_382ee21e}}),a("h2",{attrs:{id:"简单的权限模型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#简单的权限模型"}},[r._v("#")]),r._v(" 简单的权限模型")]),r._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee222",graph:r.$dataBlock.mermaid_382ee222}}),a("h2",{attrs:{id:"权限设计的细节"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#权限设计的细节"}},[r._v("#")]),r._v(" 权限设计的细节")]),r._v(" "),a("p",[r._v("如果要删除角色，先决条件是要保证旗下用户为空")])],1)}),[],!1,null,null,null);"function"==typeof n&&n(o);e.default=o.exports}}]);